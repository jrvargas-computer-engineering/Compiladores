// Teste completo explorando todas as funcionalidades da linguagem.
// Agora cobrindo inclusive operadores compostos, OU lógico, 
// inicialização com inteiro, função retornando decimal e chamada sem argumentos.

// Declaração de variável global (sem inicialização, como manda a regra)
var g_variavel_inteira := inteiro,

// Função sem parâmetros (retorno decimal, para testar)
funcao_constante -> decimal :=
[
    retorna 3.14 := decimal
],

// Definição de uma função com múltiplos parâmetros.
soma_e_multiplica -> inteiro com a := inteiro, b := inteiro :=
[
    // Declaração de variável local sem inicialização.
    var resultado := inteiro

    // Comando de atribuição com expressão aritmética.
    resultado := a + b * 2

    // Comando de retorno com expressão.
    retorna resultado := inteiro
],

// Definição da função principal, sem parâmetros.
principal -> inteiro :=
[
    // Declaração de variáveis locais.
    var contador := inteiro
    var resultado_decimal := decimal com 1.0
    var inicializado_inteiro := inteiro com 42

    // Comando de atribuição com literal inteiro.
    contador := -contador + (+inicializado_inteiro)
    contador := 0
    g_variavel_inteira := 100

    // Comando de controle de fluxo: ENQUANTO.
    enquanto (contador < 10 & !(g_variavel_inteira == 0))
    [
        // Comando de controle de fluxo: SE / SENAO.
        // Aqui usamos todos os operadores compostos e o OU (|).
        se ((contador <= 5) | (g_variavel_inteira >= 50))
        [
            resultado_decimal := (soma_e_multiplica(contador, contador + 1) * 3) / 2.0
        ]
        senao
        [
            // Teste de operadores compostos restantes.
            se (contador != 7)
            [
                resultado_decimal := funcao_constante()  // chamada sem argumentos
            ]
            senao
            [
                resultado_decimal := 0.0
            ]
        ]

        // Atribuição com expressão para incrementar o contador.
        contador := contador + 1
    ]

    // Comando de retorno com valor literal.
    retorna 0 := inteiro
];
